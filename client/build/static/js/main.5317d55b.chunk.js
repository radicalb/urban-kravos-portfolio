(this["webpackJsonpurban-kravos"]=this["webpackJsonpurban-kravos"]||[]).push([[0],{25:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(22),l=a.n(o),c=(a(30),a(1)),i=a(2),s=a(4),m=a(3),d=a(5),p=a(15),u=a(10),h=(a(31),a(14)),g=a.n(h),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a.handleClick=function(e){document.getElementById(e).scrollIntoView()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("nav",{className:"navbar navbar-expand-lg bg-secondary text-uppercase fixed-top navbar-shrink",id:"mainNav"},n.a.createElement("div",{className:"container"},n.a.createElement("a",{className:"navbar-brand js-scroll-trigger",href:"/#page-top"},"Urban Kravos"),n.a.createElement("button",{className:"navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu",n.a.createElement("i",{className:"fas fa-bars"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement(g.a,{query:"(max-width: 991.98px)"},n.a.createElement("li",{className:"nav-item mx-0 mx-lg-1"},n.a.createElement("a",{className:"nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger",href:"#aboutme","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return e.handleClick("aboutme")}},"O meni"))),n.a.createElement(g.a,{query:"(min-width: 992px)"},n.a.createElement("li",{className:"nav-item mx-0 mx-lg-1"},n.a.createElement("a",{className:"nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger",href:"#aboutme"},"O meni"))),n.a.createElement(g.a,{query:"(max-width: 991.98px)"},n.a.createElement("li",{className:"nav-item mx-0 mx-lg-1"},n.a.createElement("a",{className:"nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger",href:"#projects","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return e.handleClick("projects")}},"Moji projekti"))),n.a.createElement(g.a,{query:"(min-width: 992px)"},n.a.createElement("li",{className:"nav-item mx-0 mx-lg-1"},n.a.createElement("a",{className:"nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger",href:"#projects"},"Moji projekti")))))))}}]),t}(r.Component),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("header",{className:"masthead bg-primary text-white text-center",id:"page-top"},n.a.createElement("div",{className:"container d-flex align-items-center flex-column"},n.a.createElement("img",{className:"masthead-avatar mb-5 rounded-circle border border-white",src:"img/circle-cropped.png",alt:""}),n.a.createElement("h1",{className:"masthead-heading text-uppercase mb-0"},"Urban Kravos"),n.a.createElement("div",{className:"divider-custom divider-light"},n.a.createElement("div",{className:"divider-custom-line"}),n.a.createElement("div",{className:"divider-custom-icon"},n.a.createElement("i",{className:"fas fa-star"})),n.a.createElement("div",{className:"divider-custom-line"})),n.a.createElement("p",{className:"masthead-subheading font-weight-light mb-0"},"Web Development - C# Programming")))}}]),t}(r.Component),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{className:this.props.gitButtonClassName,onClick:this.props.onClick},n.a.createElement("i",{className:"fas fa-angle-down mr-2"}),"Naslednji projekt"))}}]),t}(r.Component),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"portfolio-modal modal fade",id:this.props.theId,tabindex:"-1",role:"dialog","aria-labelledby":"portfolioModal1Label","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-xl",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-body text-center"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-lg-11"},n.a.createElement("button",{type:"button",className:"btn btn-outline-light rounded m-0 p-0","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("img",{className:"img-fluid rounded mb-0",src:this.props.imgUrl,alt:""})))))))))}}]),t}(r.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a,r="btn btn-xl btn-outline-",o="img-fit-cover  rounded border border-";(this.props.nrOfProjects-this.props.projectNr)%2!==0?(e="page-section portfolio",t="page-section-heading text-center text-uppercase text-secondary mb-0",a="divider-custom",r+="primary",o+="primary"):(e="page-section portfolio bg-primary text-white",t="page-section-heading text-center text-uppercase text-white",a="divider-custom divider-light",r+="light",o+="white");var l="";return this.props.nrOfProjects+1-this.props.projectsDisplayed===this.props.projectNr&&this.props.projectNr>1&&(l=n.a.createElement(E,{gitButtonClassName:r,onClick:this.props.onShowMoreProjects})),n.a.createElement("section",{className:e,id:"projects"},n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:t},"#",this.props.projectNr,": ",this.props.project.tittle),n.a.createElement("div",{className:a},n.a.createElement("div",{className:"divider-custom-line"}),n.a.createElement("div",{className:"divider-custom-icon"},n.a.createElement("i",{className:"fas fa-star"})),n.a.createElement("div",{className:"divider-custom-line"})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mx-auto"},n.a.createElement("p",{className:"lead"},this.props.project.postBody))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-3 ml-auto"},n.a.createElement("div",{className:"portfolio-item mx-auto","data-toggle":"modal","data-target":"#projectModal1"+this.props.projectNr},n.a.createElement("div",{className:"portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100"},n.a.createElement("div",{className:"portfolio-item-caption-content text-center text-white"},n.a.createElement("i",{className:"fas fa-plus fa-3x"}))),n.a.createElement("img",{className:o,src:this.props.project.img1,alt:""}))),n.a.createElement("div",{className:"col-lg-3 mx-2"},n.a.createElement("div",{className:"portfolio-item mx-auto","data-toggle":"modal","data-target":"#projectModal2"+this.props.projectNr},n.a.createElement("div",{className:"portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100"},n.a.createElement("div",{className:"portfolio-item-caption-content text-center text-white"},n.a.createElement("i",{className:"fas fa-plus fa-3x"}))),n.a.createElement("img",{className:o,src:this.props.project.img2,alt:""}))),n.a.createElement("div",{className:"col-lg-3 mr-auto"},n.a.createElement("div",{className:"portfolio-item mx-auto","data-toggle":"modal","data-target":"#projectModal3"+this.props.projectNr},n.a.createElement("div",{className:"portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100"},n.a.createElement("div",{className:"portfolio-item-caption-content text-center text-white"},n.a.createElement("i",{className:"fas fa-plus fa-3x"}))),n.a.createElement("img",{className:o,src:this.props.project.img3,alt:""})))),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("a",{className:r,href:this.props.project.gitUrl},n.a.createElement("i",{className:"fab fa-github mr-2"}),"GitHub")),l),n.a.createElement(b,{theId:"projectModal1"+this.props.projectNr,imgUrl:this.props.project.img1}),n.a.createElement(b,{theId:"projectModal2"+this.props.projectNr,imgUrl:this.props.project.img2}),n.a.createElement(b,{theId:"projectModal3"+this.props.projectNr,imgUrl:this.props.project.img3}))}}]),t}(r.Component),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"page-section portfolio",id:"aboutme"},n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:"page-section-heading text-center text-uppercase text-secondary mb-0"},"O meni"),n.a.createElement("div",{className:"divider-custom"},n.a.createElement("div",{className:"divider-custom-line"}),n.a.createElement("div",{className:"divider-custom-icon"},n.a.createElement("i",{className:"fas fa-star"})),n.a.createElement("div",{className:"divider-custom-line"})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mx-auto"},n.a.createElement("p",{className:"lead"},"Pozdravljeni, sem Urban Kravos, dipl. in\u017e. ra\u010dunalni\u0161tva in informatike. V prostem \u010dasu se ukvarjam s programiranjem. Dobro poznam programske jezike C#, Java, JavaScript, HTML5 in CSS3. Imam pa tudi omejeno znanje Phytona in VB. Poznane so mi tako relacijske kot nerelacijske podatkovne baze. V\u010dasih sem se veliko ukvarjal tudi z Delphijem."),n.a.createElement("p",{className:"lead"},"V zadnjem \u010dasu sem pridobil nekaj znanja iz ReactJS freameworka in Bootstrapa. V slu\u017ebi sem trenutno ukvarjam z avtomatizacijo izdelave Powerpoint poro\u010dil iz Sharepoint seznamov preko Excela (VBA)."),n.a.createElement("p",{className:"lead"},"Spodaj si lahko ogledate nekaj mojih projektov. \u017delim vam prijetno brskanje.")))))}}]),t}(r.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={projectsDisplayed:1,projects:[]},a.handleShowMoreProjects=function(){console.log("handling show more projects");var e=a.state.projectsDisplayed;e++,a.setState({projectsDisplayed:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/project").then((function(t){if(200!==t.status)throw new Error(t.error);t.json().then((function(t){e.setState({projects:t})}))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(v,null),n.a.createElement(N,null),this.state.projects.filter((function(t){return e.state.projects.indexOf(t)>=e.state.projects.length-e.state.projectsDisplayed})).reverse().map((function(t){return n.a.createElement(j,{project:t,projectNr:e.state.projects.indexOf(t)+1,nrOfProjects:e.state.projects.length,projectsDisplayed:e.state.projectsDisplayed,onShowMoreProjects:e.handleShowMoreProjects})})))}}]),t}(r.Component),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("footer",{className:"footer text-center"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-4 mb-5 mb-lg-0"},n.a.createElement("h4",{className:"lead mb-4"},"e-po\u0161ta:"),n.a.createElement("p",{className:"lead mb-0"},"urban.rbsoftware@gmail.com")),n.a.createElement("div",{className:"col-lg-4 mb-5 mb-lg-0"},n.a.createElement("h4",{className:"text-uppercase mb-4"},"Kontakt"),n.a.createElement("a",{className:"btn btn-outline-light btn-social mx-1",href:"https://www.facebook.com/radicalb"},n.a.createElement("i",{className:"fab fa-fw fa-facebook-f"})),n.a.createElement("a",{className:"btn btn-outline-light btn-social mx-1",href:"https://github.com/radicalb"},n.a.createElement("i",{className:"fab fa-fw fa-github"})),n.a.createElement("a",{className:"btn btn-outline-light btn-social mx-1",href:"https://www.linkedin.com/in/urban-kravos-1755512a/"},n.a.createElement("i",{className:"fab fa-fw fa-linkedin-in"})),n.a.createElement("a",{className:"btn btn-outline-light btn-social mx-1",href:"tel:040166123"},n.a.createElement("i",{className:"fas fa-fw fa-phone"}))),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("h4",{className:"lead mb-4"},"telefon:"),n.a.createElement("p",{className:"lead mb-0"},"040-166-123"))))),n.a.createElement("section",{class:"copyright py-4 text-center text-white"},n.a.createElement("div",{class:"container"},n.a.createElement("small",null,"Copyright \xa9 Urban Kravos 2019"))),n.a.createElement("div",{class:"scroll-to-top d-lg-none position-fixed "},n.a.createElement("a",{class:"js-scroll-trigger d-block text-center text-white rounded",href:"#page-top"},n.a.createElement("i",{class:"fa fa-chevron-up"}))))}}]),t}(r.Component),w=a(11),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,r=t.value,n=t.name;a.setState(Object(w.a)({},n,r))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/users/authenticate",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);var t=a.props.location.pathname;t=t.replace("/login",""),a.props.history.push(t)})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"masthead bg-primary text-white text-center",id:"page-top"},n.a.createElement("div",{className:"container d-flex align-items-center flex-column"},"Login",n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("h1",null,"Login Below!"),n.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),n.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),n.a.createElement("input",{type:"submit",value:"Submit"}))))}}]),t}(r.Component);function k(e,t){return function(a){function r(){var e;return Object(c.a)(this,r),(e=Object(s.a)(this,Object(m.a)(r).call(this))).state={loading:!0,redirect:!1},e}return Object(d.a)(r,a),Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/checkToken").then((function(t){if(console.log(t),200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var a=this.state,r=a.loading,o=a.redirect;if(r)return null;if(o){var l="/login"+t;return n.a.createElement(u.a,{to:l})}return n.a.createElement(n.a.Fragment,null,n.a.createElement(e,this.props))}}]),r}(r.Component)}var C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={orderingId:a.props.project.orderingId},a.editUrl="/editproject/"+a.props.project._id,a.deleteModal="deleteModal1"+a.props.project.orderingId+Math.floor(1e3*Math.random()+1),a.deleteModalLink="#"+a.deleteModal,a.handleOrderingIdChange=function(e){var t=e.target,r=t.value,n=t.name;a.setState(Object(w.a)({},n,r))},a.handleOrderingIdOnKeyUp=function(e){if(13===e.keyCode){console.log("Enter pressed");var t={method:"POST",body:JSON.stringify({orderingId:a.state.orderingId}),headers:{"Content-Type":"application/json"}};fetch("/api/project/update/"+a.props.project._id,t).then((function(e){if(console.log("RESPONSE FROM SERVER:"),200!==e.status)throw new Error(e.error);alert("Projekt uspe\u0161no posodobljen. :D")})).catch((function(e){console.error(e),alert("Error updating project please try again")}))}else 27===e.keyCode&&(console.log("ESC pressed"),a.setState({orderingId:a.props.project.orderingId}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("tr",null,n.a.createElement("td",{className:"w-5"},n.a.createElement("input",{type:"number",className:"form-control input-sm input-vsm",name:"orderingId",value:this.state.orderingId,onChange:this.handleOrderingIdChange,onKeyUp:this.handleOrderingIdOnKeyUp})),n.a.createElement("td",{className:"w-70"},n.a.createElement("div",{className:"btn btn-secondary active w-100"},this.props.project.tittle)),n.a.createElement("td",{className:"w-10"},n.a.createElement("a",{role:"button",href:this.editUrl,className:"btn btn-primary"},"Edit")),n.a.createElement("td",{className:"w-15"},n.a.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":this.deleteModalLink},"Delete")),n.a.createElement("div",{className:"modal fade",id:this.deleteModal,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Potrditev brisanja"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},"Ali res \u017eelite izbrisati ta projekt?"),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Prekli\u010di"),n.a.createElement("button",{type:"button","data-dismiss":"modal",className:"btn btn-primary",onClick:function(){return e.props.onRemove(e.props.project._id)}},"Izbri\u0161i"))))))}}]),t}(r.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={projects:[]},a.handleDelete=function(e){var t={method:"DELETE",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/json"}};fetch("/api/project/delete",t).then((function(t){if(200!==t.status)throw new Error(t.error);var r=a.state.projects.filter((function(t){return t._id!==e}));a.setState({projects:r})})).catch((function(e){console.error(e),alert("Error deleting project please try again")}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/project").then((function(t){if(200!==t.status)throw new Error(t.error);t.json().then((function(t){e.setState({projects:t})}))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"page-section portfolio",id:"admin"},n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:"page-section-heading text-center text-uppercase text-secondary mb-0"},"Admin"),n.a.createElement("div",{className:"divider-custom"},n.a.createElement("div",{className:"divider-custom-line"}),n.a.createElement("div",{className:"divider-custom-icon"},n.a.createElement("i",{className:"fas fa-star"})),n.a.createElement("div",{className:"divider-custom-line"})),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 col-md-offset-2"},n.a.createElement("a",{role:"button",href:"/addproject",className:"btn btn-primary"},"Dodaj projekt"),n.a.createElement("table",{className:"w-100 h-100 text-right"},this.state.projects.map((function(t){return n.a.createElement(C,{project:t,onRemove:e.handleDelete})})))))))}}]),t}(r.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleImgChange=function(e){var t=e.target,r=t.files,n=t.name;a.setState({loaded:0});var o=new FormData;o.append("pFile",r[0]),fetch("/api/resources/upload",{method:"POST",body:o}).then((function(e){return e.text()})).then((function(e){var t=n.slice(0,4);a.setState(Object(w.a)({},t,e))}))},a.handleTextChange=function(e){var t=e.target,r=t.value,n=t.name;a.setState(Object(w.a)({},n,r))},a.handleAddProject=function(){var e=a.state,t=e.tittle,r=e.postBody,n=e.img1,o=e.img2,l=e.img3,c=e.gitUrl,i={method:"POST",body:JSON.stringify({tittle:t,postBody:r,img1:n,img2:o,img3:l,gitUrl:c}),headers:{"Content-Type":"application/json"}};fetch("/api/project/add",i).then((function(e){if(console.log("RESPONSE FROM SERVER:"),200!==e.status)throw new Error(e.error);a.setState({tittle:"",postBody:"",img1:"",img2:"",img3:"",gitUrl:"https://github.com/radicalb/",img1fileKey:"rKey1"+Date.now(),img2fileKey:"rKey2"+Date.now(),img3fileKey:"rKey3"+Date.now()}),alert("Projekt uspe\u0161no dodan.")})).catch((function(e){console.error(e),alert("Error adding project please try again")}))},a.handleEditProject=function(){var e=a.state,t=e.tittle,r=e.postBody,n=e.img1,o=e.img2,l=e.img3,c=e.gitUrl,i={method:"POST",body:JSON.stringify({tittle:t,postBody:r,img1:n,img2:o,img3:l,gitUrl:c}),headers:{"Content-Type":"application/json"}};fetch("/api/project/update/"+a.props.match.params.id,i).then((function(e){if(console.log("RESPONSE FROM SERVER:"),200!==e.status)throw new Error(e.error);alert("Projekt uspe\u0161no posodobljen.")})).catch((function(e){console.error(e),alert("Error updating project please try again")}))},a.state={tittle:"",postBody:"",img1:"",img2:"",img3:"",gitUrl:"https://github.com/radicalb/",img1fileKey:"rKey1"+Date.now(),img2fileKey:"rKey2"+Date.now(),img3fileKey:"rKey3"+Date.now()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match),console.log(this.props.match.params),this.props.match.params.id&&fetch("/api/project/"+this.props.match.params.id).then((function(t){if(200!==t.status)throw new Error(t.error);t.json().then((function(t){console.log(t);var a=t._id;console.log(a),e.setState({tittle:t.tittle,postBody:t.postBody,img1:t.img1,img2:t.img2,img3:t.img3,gitUrl:t.gitUrl})}))})).catch((function(e){console.error(e)}))}},{key:"getNewProjectButton",value:function(){return n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleAddProject},"Dodaj projekt")}},{key:"getEditProjectButton",value:function(){return n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleEditProject},"Shrani spremembe")}},{key:"getCorrectButton",value:function(){return this.props.match.params.id?this.getEditProjectButton():this.getNewProjectButton()}},{key:"render",value:function(){return n.a.createElement("section",{className:"page-section portfolio",id:"newProject"},n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:"page-section-heading text-center text-uppercase text-secondary mb-0"},"Dodaj projekt"),n.a.createElement("div",{className:"divider-custom"},n.a.createElement("div",{className:"divider-custom-line"}),n.a.createElement("div",{className:"divider-custom-icon"},n.a.createElement("i",{className:"fas fa-star"})),n.a.createElement("div",{className:"divider-custom-line"})),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-left"},n.a.createElement("form",{action:"",method:"POST"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"tittle"},"Title ",n.a.createElement("span",{className:"require"},"*")),n.a.createElement("input",{type:"text",className:"form-control",name:"tittle",value:this.state.tittle,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"postBody"},"Description"),n.a.createElement("textarea",{rows:"5",className:"form-control",name:"postBody",value:this.state.postBody,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"img1"},"Image1: ",n.a.createElement("span",{className:"require"},"*")),n.a.createElement("input",{type:"file",name:"img1file",key:this.state.img1fileKey,onChange:this.handleImgChange}),n.a.createElement("input",{type:"text",className:"form-control",name:"img1",value:this.state.img1,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"img2"},"Image2: ",n.a.createElement("span",{className:"require"},"*")),n.a.createElement("input",{type:"file",name:"img2file",key:this.state.img2fileKey,onChange:this.handleImgChange}),n.a.createElement("input",{type:"text",className:"form-control",name:"img2",value:this.state.img2,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"img3"},"Image3: ",n.a.createElement("span",{className:"require"},"* ")),n.a.createElement("input",{type:"file",name:"img3file",key:this.state.img3fileKey,onChange:this.handleImgChange}),n.a.createElement("input",{type:"text",className:"form-control",name:"img3",value:this.state.img3,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"gitUrl"},"GitHub Url ",n.a.createElement("span",{className:"require"},"*")),n.a.createElement("input",{type:"text",className:"form-control",name:"gitUrl",value:this.state.gitUrl,onChange:this.handleTextChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("p",null,n.a.createElement("span",{className:"require"},"*")," - required fields")),n.a.createElement("div",{className:"form-group"},this.getCorrectButton(),n.a.createElement("a",{href:"/admin",role:"button",className:"btn btn-warning pull-right"},"Nazaj")))))))}}]),t}(r.Component),I=(a(36),a(39),a(40),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={pageLink:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,null),n.a.createElement(p.a,null,n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/",exact:!0,component:y}),n.a.createElement(u.b,{path:"/login",component:O}),n.a.createElement(u.b,{path:"/admin",component:k(S,"/admin")}),n.a.createElement(u.b,{path:"/addproject",component:k(P,"/addproject")}),n.a.createElement(u.b,{path:"/editproject/:id",component:k(P,"/editproject")}))),n.a.createElement(x,null))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.5317d55b.chunk.js.map