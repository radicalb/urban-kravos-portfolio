{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";// Login.jsx\nimport React,{Component}from'react';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleInputChange=function(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;_this.setState(_defineProperty({},name,value));};_this.onSubmit=function(event){event.preventDefault();fetch('/api/users/authenticate',{method:'POST',body:JSON.stringify(_this.state),headers:{'Content-Type':'application/json'}}).then(function(res){if(res.status===200){var pathname=_this.props.location.pathname;pathname=pathname.replace('/login','');_this.props.history.push(pathname);}else{var error=new Error(res.error);throw error;}}).catch(function(err){console.error(err);alert('Error logging in please try again');});};_this.state={email:'',password:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"section\",{className:\"masthead bg-primary text-white text-center\",id:\"page-top\"},React.createElement(\"div\",{className:\"container d-flex align-items-center flex-column\"},\"Login\",React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"h1\",null,\"Login Below!\"),React.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter email\",value:this.state.email,onChange:this.handleInputChange,required:true}),React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter password\",value:this.state.password,onChange:this.handleInputChange,required:true}),React.createElement(\"input\",{type:\"submit\",value:\"Submit\"}))));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["C:/Users/SpelaRK/js_programming/ReactJS/urban-kravos/src/components/login.jsx"],"names":["React","Component","Login","props","handleInputChange","event","target","value","name","setState","onSubmit","preventDefault","fetch","method","body","JSON","stringify","state","headers","then","res","status","pathname","location","replace","history","push","error","Error","catch","err","console","alert","email","password"],"mappings":"02BAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GACqBC,CAAAA,K,+DACnB,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAOnBC,iBAPmB,CAOC,SAAAC,KAAK,CAAI,mBACHA,KAAK,CAACC,MADH,CACnBC,KADmB,eACnBA,KADmB,CACZC,IADY,eACZA,IADY,CAE3B,MAAKC,QAAL,oBACGD,IADH,CACUD,KADV,GAGD,CAZkB,OAcnBG,QAdmB,CAcR,SAAAL,KAAK,CAAI,CAClBA,KAAK,CAACM,cAAN,GACAC,KAAK,CAAC,yBAAD,CAA4B,CAC/BC,MAAM,CAAE,MADuB,CAE/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKC,KAApB,CAFyB,CAG/BC,OAAO,CAAE,CACP,eAAgB,kBADT,CAHsB,CAA5B,CAAL,CAOGC,IAPH,CAOQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACtB,GAAIC,CAAAA,QAAQ,CAAG,MAAKnB,KAAL,CAAWoB,QAAX,CAAoBD,QAAnC,CACAA,QAAQ,CAAGA,QAAQ,CAACE,OAAT,CAAiB,QAAjB,CAA2B,EAA3B,CAAX,CACA,MAAKrB,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwBJ,QAAxB,EACD,CAJD,IAIO,CACL,GAAMK,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAUR,GAAG,CAACO,KAAd,CAAd,CACA,KAAMA,CAAAA,KAAN,CACD,CACF,CAhBH,EAiBGE,KAjBH,CAiBS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACJ,KAAR,CAAcG,GAAd,EACAE,KAAK,CAAC,mCAAD,CAAL,CACD,CApBH,EAqBD,CArCkB,CAEjB,MAAKf,KAAL,CAAa,CACXgB,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAFiB,aAMlB,C,yDAiCQ,CACP,MACE,gCACE,SAAS,CAAC,4CADZ,CAEE,EAAE,CAAC,UAFL,EAIE,2BAAK,SAAS,CAAC,iDAAf,UAEE,4BAAM,QAAQ,CAAE,KAAKxB,QAArB,EACE,6CADF,CAEE,6BACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,WAAW,CAAC,aAHd,CAIE,KAAK,CAAE,KAAKO,KAAL,CAAWgB,KAJpB,CAKE,QAAQ,CAAE,KAAK7B,iBALjB,CAME,QAAQ,KANV,EAFF,CAUE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,gBAHd,CAIE,KAAK,CAAE,KAAKa,KAAL,CAAWiB,QAJpB,CAKE,QAAQ,CAAE,KAAK9B,iBALjB,CAME,QAAQ,KANV,EAVF,CAkBE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAlBF,CAFF,CAJF,CADF,CA8BD,C,mBAvEgCH,S,SAAdC,K","sourcesContent":["// Login.jsx\r\nimport React, { Component } from 'react';\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n  }\r\n  handleInputChange = event => {\r\n    const { value, name } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    fetch('/api/users/authenticate', {\r\n      method: 'POST',\r\n      body: JSON.stringify(this.state),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          let pathname = this.props.location.pathname;\r\n          pathname = pathname.replace('/login', '');\r\n          this.props.history.push(pathname);\r\n        } else {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        alert('Error logging in please try again');\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section\r\n        className=\"masthead bg-primary text-white text-center\"\r\n        id=\"page-top\"\r\n      >\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n          Login\r\n          <form onSubmit={this.onSubmit}>\r\n            <h1>Login Below!</h1>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Enter email\"\r\n              value={this.state.email}\r\n              onChange={this.handleInputChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Enter password\"\r\n              value={this.state.password}\r\n              onChange={this.handleInputChange}\r\n              required\r\n            />\r\n            <input type=\"submit\" value=\"Submit\" />\r\n          </form>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}