{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\SpelaRK\\\\js_programming\\\\ReactJS\\\\urban-kravos\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import AdminProjectListElement from'./admin-project-list-element.component';var Admin=/*#__PURE__*/function(_Component){_inherits(Admin,_Component);function Admin(){var _getPrototypeOf2;var _this;_classCallCheck(this,Admin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Admin)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={projects:[]};_this.handleDelete=function(id){var options={method:'DELETE',body:JSON.stringify({_id:id}),headers:{'Content-Type':'application/json'}};fetch('/api/project/add',options).then(function(res){console.log('RESPONSE FROM SERVER:');if(res.status===200){console.log(res);_this.setState({tittle:'',postBody:'',img1:'',img2:'',img3:'',gitUrl:'https://github.com/radicalb/',img1fileKey:'rKey1'+Date.now(),img2fileKey:'rKey2'+Date.now(),img3fileKey:'rKey3'+Date.now()});alert('Projekt uspešno dodan.');}else{var error=new Error(res.error);throw error;}}).catch(function(err){console.error(err);alert('Error adding project please try again');});};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/api/project').then(function(res){if(res.status===200){res.json().then(function(data){_this2.setState({projects:data});});}else{var error=new Error(res.error);throw error;}}).catch(function(err){console.error(err);});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"section\",{className:\"page-section portfolio\",id:\"admin\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h2\",{className:\"page-section-heading text-center text-uppercase text-secondary mb-0\"},\"Admin\"),React.createElement(\"div\",{className:\"divider-custom\"},React.createElement(\"div\",{className:\"divider-custom-line\"}),React.createElement(\"div\",{className:\"divider-custom-icon\"},React.createElement(\"i\",{className:\"fas fa-star\"})),React.createElement(\"div\",{className:\"divider-custom-line\"})),React.createElement(\"div\",{className:\"row justify-content-center\"},React.createElement(\"div\",{className:\"col-md-8 col-md-offset-2\"},React.createElement(\"table\",{className:\"table w-100 h-100\"},this.state.projects.map(function(project){return React.createElement(AdminProjectListElement,{project:project,onDelete:_this3.handleDelete});}))))));}}]);return Admin;}(Component);export default Admin;","map":{"version":3,"sources":["C:/Users/SpelaRK/js_programming/ReactJS/urban-kravos/src/components/admin.component.jsx"],"names":["React","Component","AdminProjectListElement","Admin","state","projects","handleDelete","id","options","method","body","JSON","stringify","_id","headers","fetch","then","res","console","log","status","setState","tittle","postBody","img1","img2","img3","gitUrl","img1fileKey","Date","now","img2fileKey","img3fileKey","alert","error","Error","catch","err","json","data","map","project"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AdminProjectListElement from './admin-project-list-element.component';\r\n\r\nclass Admin extends Component {\r\n  state = {\r\n    projects: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch('/api/project')\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          res.json().then(data => {\r\n            this.setState({\r\n              projects: data\r\n            });\r\n          });\r\n        } else {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  handleDelete = id => {\r\n    const options = {\r\n      method: 'DELETE',\r\n      body: JSON.stringify({ _id: id }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    fetch('/api/project/add', options)\r\n      .then(res => {\r\n        console.log('RESPONSE FROM SERVER:');\r\n        if (res.status === 200) {\r\n          console.log(res);\r\n          this.setState({\r\n            tittle: '',\r\n            postBody: '',\r\n            img1: '',\r\n            img2: '',\r\n            img3: '',\r\n            gitUrl: 'https://github.com/radicalb/',\r\n            img1fileKey: 'rKey1' + Date.now(),\r\n            img2fileKey: 'rKey2' + Date.now(),\r\n            img3fileKey: 'rKey3' + Date.now()\r\n          });\r\n          alert('Projekt uspešno dodan.');\r\n        } else {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        alert('Error adding project please try again');\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"page-section portfolio\" id=\"admin\">\r\n        <div className=\"container\">\r\n          <h2 className=\"page-section-heading text-center text-uppercase text-secondary mb-0\">\r\n            Admin\r\n          </h2>\r\n\r\n          <div className=\"divider-custom\">\r\n            <div className=\"divider-custom-line\"></div>\r\n            <div className=\"divider-custom-icon\">\r\n              <i className=\"fas fa-star\"></i>\r\n            </div>\r\n            <div className=\"divider-custom-line\"></div>\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-8 col-md-offset-2\">\r\n              <table className=\"table w-100 h-100\">\r\n                {this.state.projects.map(project => (\r\n                  <AdminProjectListElement\r\n                    project={project}\r\n                    onDelete={this.handleDelete}\r\n                  />\r\n                ))}\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}